(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"054d":function(e,t,r){"use strict";var n=r("1d7d"),o=r.n(n);o.a},"1d7d":function(e,t,r){},7101:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"100%",height:"100%"}},[r("div",{staticClass:"out-container"},[r("div",{staticClass:"login-container"},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[r("h3",{staticClass:"h3Style"},[e._v("用户登录")]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"用户名",name:"username",type:"text"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码",autocomplete:"off",name:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")]),r("div",{staticClass:"res-opreat"},[r("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.forgetPasswordDialog=!0}}},[e._v("忘记密码")])])],1)],1)]),r("div",{staticClass:"bottom"},[e._v(" 版本：V1.0.0 - build-2020.0302 Copyright @ 2020 ")])])},o=[],a=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("96cf"),r("1da1")),i=r("ade3"),s=r("af82"),l=r("2f62");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"Login",components:{},data:function(){var e=function(e,t,r){if(""===t)return r(new Error("用户名不能为空"));r()},t=function(e,t,r){if(""===t)return r(new Error("密码不能为空"));r()};return{year:"",version:"",compilationNum:"",totalTime:60,content:"获取验证码",canClick:!0,forgetPasswordDialog:!1,temp:{username:null,newPassword:null,passwordRepeat:null,verification:null},listLoading:!1,options:null,loginForm:{username:"",password:""},register:{department:"请选择"},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,showDialog:!1,redirect:void 0,picLyanzhengma:"",checkCode:""}},watch:{$route:{handler:function(e){console.log(e.query&&e.query.redirect),this.redirect=e.query&&e.query.redirect},immediate:!0}},mounted:function(){},methods:u({},Object(l["b"])(["initUserInfo"]),{handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return e.loading=!0,t.next=4,Object(s["h"])(e.loginForm.username,e.loginForm.password);case 4:n=t.sent,200===n.statusCode?(e.loading=!1,console.log(n),e.initUserInfo(n.data),localStorage.setItem("agent",n.token),e.$router.push({path:e.redirect||"/home"})):(e.loading=!1,e.$message({message:"用户名或密码错误",type:"warning"})),t.next=10;break;case 8:return e.$message({message:"请输入用户名和密码",type:"warning"}),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})},p=d,m=(r("054d"),r("2877")),g=Object(m["a"])(p,n,o,!1,null,"3e507823",null);t["default"]=g.exports}}]);