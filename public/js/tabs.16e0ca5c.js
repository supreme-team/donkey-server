(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tabs"],{2989:function(e,t,a){},"64d5":function(e,t,a){"use strict";var l=a("2989"),n=a.n(l);n.a},7033:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"Breadcrumb"},[a("i",{staticClass:"el-icon-lx-cascades"}),e._v("合同管理 ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.delAllSelection}},[e._v("批量删除")]),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"合同编号"},model:{value:e.query.agent_name,callback:function(t){e.$set(e.query,"agent_name",t)},expression:"query.agent_name"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","cell-style":{padding:"4px 0"},"header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange,"filter-change":e.HandleFilterChange}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"channel_id",label:"渠道编码",align:"center"}}),a("el-table-column",{attrs:{prop:"agent_name",label:"代理商名称",align:"center"}}),a("el-table-column",{attrs:{prop:"agent_manager",label:"渠道经理",align:"center"}}),a("el-table-column",{attrs:{prop:"shop1",label:"店铺1"}}),a("el-table-column",{attrs:{prop:"address1",label:"网址1"}}),a("el-table-column",{attrs:{prop:"due_time1",label:"授权终止日期"}}),a("el-table-column",{attrs:{prop:"shop2",label:"店铺2"}}),a("el-table-column",{attrs:{prop:"address2",label:"网址2"}}),a("el-table-column",{attrs:{prop:"due_time2",label:"授权终止日期"}}),a("el-table-column",{attrs:{prop:"shop3",label:"店铺3"}}),a("el-table-column",{attrs:{prop:"address3",label:"网址3"}}),a("el-table-column",{attrs:{prop:"due_time3",label:"授权终止日期"}}),a("el-table-column",{attrs:{prop:"shop4",label:"店铺4"}}),a("el-table-column",{attrs:{prop:"address4",label:"网址4"}}),a("el-table-column",{attrs:{prop:"due_time4",label:"授权终止日期"}}),a("el-table-column",{attrs:{prop:"shop5",label:"店铺5"}}),a("el-table-column",{attrs:{prop:"address5",label:"网址5"}}),a("el-table-column",{attrs:{prop:"due_time5",label:"授权终止日期"}}),a("el-table-column",{attrs:{prop:"contract_date",label:"合同终止日期"}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes,prev, pager, next,jumper",total:e.total1,background:""},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1}})],1)],1),a("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"渠道编码"}},[a("el-input",{model:{value:e.form.channel_id,callback:function(t){e.$set(e.form,"channel_id",t)},expression:"form.channel_id"}})],1),a("el-form-item",{attrs:{label:"代理商名称"}},[a("el-input",{model:{value:e.form.agent_name,callback:function(t){e.$set(e.form,"agent_name",t)},expression:"form.agent_name"}})],1),a("el-form-item",{attrs:{label:"渠道经理"}},[a("el-input",{model:{value:e.form.agent_manager,callback:function(t){e.$set(e.form,"agent_manager",t)},expression:"form.agent_manager"}})],1),a("el-form-item",{attrs:{label:"店铺1"}},[a("el-input",{model:{value:e.form.shop1,callback:function(t){e.$set(e.form,"shop1",t)},expression:"form.shop1"}})],1),a("el-form-item",{attrs:{label:"网址"}},[a("el-input",{model:{value:e.form.address1,callback:function(t){e.$set(e.form,"address1",t)},expression:"form.address1"}})],1),a("el-form-item",{attrs:{label:"到期时间"}},[a("el-input",{model:{value:e.form.due_time1,callback:function(t){e.$set(e.form,"due_time1",t)},expression:"form.due_time1"}})],1),a("el-form-item",{attrs:{label:"店铺2"}},[a("el-input",{model:{value:e.form.shop2,callback:function(t){e.$set(e.form,"shop2",t)},expression:"form.shop2"}})],1),a("el-form-item",{attrs:{label:"网址"}},[a("el-input",{model:{value:e.form.address2,callback:function(t){e.$set(e.form,"address2",t)},expression:"form.address2"}})],1),a("el-form-item",{attrs:{label:"到期时间"}},[a("el-input",{model:{value:e.form.due_time2,callback:function(t){e.$set(e.form,"due_time2",t)},expression:"form.due_time2"}})],1),a("el-form-item",{attrs:{label:"店铺3"}},[a("el-input",{model:{value:e.form.shop3,callback:function(t){e.$set(e.form,"shop3",t)},expression:"form.shop3"}})],1),a("el-form-item",{attrs:{label:"网址"}},[a("el-input",{model:{value:e.form.address3,callback:function(t){e.$set(e.form,"address3",t)},expression:"form.address3"}})],1),a("el-form-item",{attrs:{label:"到期时间"}},[a("el-input",{model:{value:e.form.due_time3,callback:function(t){e.$set(e.form,"due_time3",t)},expression:"form.due_time3"}})],1),a("el-form-item",{attrs:{label:"店铺4"}},[a("el-input",{model:{value:e.form.shop4,callback:function(t){e.$set(e.form,"shop4",t)},expression:"form.shop4"}})],1),a("el-form-item",{attrs:{label:"网址"}},[a("el-input",{model:{value:e.form.address4,callback:function(t){e.$set(e.form,"address4",t)},expression:"form.address4"}})],1),a("el-form-item",{attrs:{label:"到期时间"}},[a("el-input",{model:{value:e.form.due_time4,callback:function(t){e.$set(e.form,"due_time4",t)},expression:"form.due_time4"}})],1),a("el-form-item",{attrs:{label:"店铺5"}},[a("el-input",{model:{value:e.form.shop5,callback:function(t){e.$set(e.form,"shop5",t)},expression:"form.shop5"}})],1),a("el-form-item",{attrs:{label:"网址"}},[a("el-input",{model:{value:e.form.address5,callback:function(t){e.$set(e.form,"address5",t)},expression:"form.address5"}})],1),a("el-form-item",{attrs:{label:"到期时间"}},[a("el-input",{model:{value:e.form.due_time5,callback:function(t){e.$set(e.form,"due_time5",t)},expression:"form.due_time5"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1)],1)},n=[],r=(a("4de4"),a("96cf"),a("1da1")),s=a("af82"),o={name:"website",data:function(){return{total1:0,currentPage:1,pageSize:10,query:{agent_name:""},tableData:[],tableData1:[],tableData2:[],multipleSelection:[],delList:[],editVisible:!1,pageTotal:0,form:{},idx:-1,id:-1}},created:function(){this.GetData()},methods:{GetData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("AgentUser")).username,console.log(t),e.next=4,Object(s["i"])(t);case 4:a=e.sent,200===a.statusCode?(this.tableData1=a.data,this.tableData2=this.tableData1,this.total1=a.data.length,this.pushtableData(),this.currentPage=1):400===a.statusCode&&this.$router.push({path:"/"});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange1:function(e){this.pageSize=e,this.handleCurrentChange1(this.currentPage)},handleCurrentChange1:function(e){this.currentPage=e,this.currentChangePage(this.tableData1,e)},currentChangePage:function(e,t){var a=(t-1)*this.pageSize,l=t*this.pageSize;for(this.tableData=[];a<l;a++)e[a]&&this.tableData.push(e[a])},pushtableData:function(){var e=0,t=10;for(this.tableData=[];e<t;e++)this.tableData1[e]&&this.tableData.push(this.tableData1[e])},handleSearch:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.query.agent_name){e.next=7;break}return e.next=3,Object(s["l"])(this.query.agent_name);case 3:t=e.sent,200===t.statusCode?(this.$message.success(t.message),this.tableData1=t.data,this.tableData2=this.tableData1,this.total1=t.data.length,this.pushtableData(),this.currentPage=1,console.log(t)):this.$message.error(t.message),e.next=8;break;case 7:this.GetData();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(e){this.multipleSelection=e,console.log(e)},delAllSelection:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("确定要批量删除这些合同嘛?","提示",{type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.multipleSelection.length,console.log(t.multipleSelection),e.next=4,Object(s["b"])(t.multipleSelection);case 4:a=e.sent,console.log(a),200===a.statusCode?(t.$message.success(a.message),t.GetData()):t.$message.error(a.message),t.multipleSelection=[];case 8:case"end":return e.stop()}}),e)})))).catch((function(){}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleDelete:function(e,t){var a=this;console.log(t.agent_name),this.$confirm("确定要删除吗？","提示",{type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){var l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["d"])(t.agent_name);case 2:l=e.sent,200===l.statusCode?(a.$message.success(l.message),a.GetData()):a.$message.error(l.message);case 4:case"end":return e.stop()}}),e)})))).catch((function(){}))},handleEdit:function(e,t){this.idx=e,this.form=t,this.editVisible=!0},saveEdit:function(){var e=this;this.$confirm("确定要修改吗？","提示",{type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["f"])(e.form);case 2:a=t.sent,console.log(a),200===a.statusCode?(e.$message.success(a.message),e.GetData(),e.editVisible=!1):e.$message.error(a.message);case 5:case"end":return t.stop()}}),t)})))).catch((function(){e.$message.error("编辑失败，请重新再试")}))},HandleFilterChange:function(e){if(e.status[0]){this.tableData2=this.tableData2.filter((function(t){return t.state===e.status[0]}));var t=this.tableData2;this.tableData2=this.tableData1,this.tableData1=t,this.total1=this.tableData1.length,this.pushtableData(),this.currentPage=1}else this.currentPage=1,this.GetData()}}},i=o,c=(a("64d5"),a("2877")),u=Object(c["a"])(i,l,n,!1,null,"84c4bd6e",null);t["default"]=u.exports}}]);
//# sourceMappingURL=tabs.16e0ca5c.js.map