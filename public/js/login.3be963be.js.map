{"version":3,"sources":["webpack:///./src/views/Login/Login.vue?a8f2","webpack:///./src/views/Login/Login.vue?677d","webpack:///src/views/Login/Login.vue","webpack:///./src/views/Login/Login.vue?55cf","webpack:///./src/views/Login/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","ref","attrs","loginForm","loginRules","_v","model","value","callback","$$v","$set","expression","nativeOn","$event","type","indexOf","_k","keyCode","key","handleLogin","loading","preventDefault","on","forgetPasswordDialog","staticRenderFns","component"],"mappings":"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","file":"js/login.3be963be.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=3e507823&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=3e507823&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{staticClass:\"out-container\"},[_c('div',{staticClass:\"login-container\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('h3',{staticClass:\"h3Style\"},[_vm._v(\"用户登录\")]),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\",\"name\":\"username\",\"type\":\"text\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\",\"autocomplete\":\"off\",\"name\":\"password\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"30px\"},attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin($event)}}},[_vm._v(\"登录\")]),_c('div',{staticClass:\"res-opreat\"},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.forgetPasswordDialog = true}}},[_vm._v(\"忘记密码\")])])],1)],1)]),_c('div',{staticClass:\"bottom\"},[_vm._v(\" 版本：V1.0.0 - build-2020.0302 Copyright @ 2020 \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"width: 100%;height: 100%\">\r\n        <div class=\"out-container\">\r\n            <div class=\"login-container\">\r\n                <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" class=\"login-form\">\r\n                    <h3 class=\"h3Style\">用户登录</h3>\r\n                    <el-form-item prop=\"username\">\r\n                        <el-input\r\n                                v-model=\"loginForm.username\"\r\n                                placeholder=\"用户名\"\r\n                                name=\"username\"\r\n                                type=\"text\"\r\n                        />\r\n                    </el-form-item>\r\n                    <el-form-item prop=\"password\">\r\n                        <el-input\r\n                                v-model=\"loginForm.password\"\r\n                                type=\"password\"\r\n                                placeholder=\"密码\"\r\n                                autocomplete=\"off\"\r\n                                name=\"password\"\r\n                                @keyup.enter.native=\"handleLogin\"\r\n                        />\r\n                    </el-form-item>\r\n\r\n                    <el-button :loading=\"loading\" type=\"primary\" style=\"width:100%;margin-bottom:30px;\" @click.native.prevent=\"handleLogin\">登录</el-button>\r\n                    <div class=\"res-opreat\">\r\n<!--                        <router-link to=\"/register\">注册</router-link>-->\r\n                        <a href=\"javascript:;\" @click=\"forgetPasswordDialog = true\">忘记密码</a>\r\n                    </div>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n        <div class=\"bottom\">\r\n            版本：V1.0.0 - build-2020.0302 Copyright @ 2020\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    //引入文件\r\n    import  {GetLogin} from './../../server/index'\r\n    import {mapActions} from 'vuex'\r\n\r\n    export default {\r\n        name: 'Login',\r\n        components: {  },\r\n        data() {\r\n\r\n            const validateUsername = (rule, value, callback) => {\r\n                if (value === '') {\r\n                    return callback(new Error('用户名不能为空'));\r\n                }\r\n                else {\r\n                    callback()\r\n                }\r\n            };\r\n            const validatePassword = (rule, value, callback) => {\r\n                if (value === '') {\r\n                    return callback(new Error('密码不能为空'));\r\n                } else {\r\n                    callback()\r\n                }\r\n            };\r\n\r\n            return {\r\n                year:'',\r\n                version:'',\r\n                compilationNum:'',\r\n                totalTime:60,\r\n                content: '获取验证码',\r\n                canClick: true,\r\n                forgetPasswordDialog: false,\r\n                temp: {\r\n                    username: null,\r\n                    newPassword: null,\r\n                    passwordRepeat: null,\r\n                    verification: null\r\n                },\r\n                listLoading: false,\r\n                options:null,\r\n\r\n                loginForm: {\r\n                    username: '',\r\n                    password: ''\r\n                },\r\n                register: {\r\n                    department: '请选择',\r\n                },\r\n                loginRules: {\r\n                    username: [{ required: true, trigger: 'blur', validator: validateUsername }],\r\n                    password: [{ required: true, trigger: 'blur', validator: validatePassword }]\r\n                },\r\n                loading: false,\r\n                showDialog: false,\r\n                redirect: undefined,\r\n                picLyanzhengma:'',\r\n                checkCode:''\r\n            }\r\n        },\r\n        watch: {\r\n            $route: {\r\n                handler: function(route) {\r\n                    console.log(route.query && route.query.redirect);\r\n                    this.redirect = route.query && route.query.redirect\r\n                    //用来登录完成后回到原来的浏览页面\r\n                },\r\n                immediate: true\r\n            }\r\n        },\r\n        mounted(){\r\n            // this.getVersion()\r\n        },\r\n        methods: {\r\n            ...mapActions(['initUserInfo']),\r\n             handleLogin() {\r\n                this.$refs.loginForm.validate( async valid => {\r\n                    if (valid) {\r\n                        this.loading = true;\r\n                        let result = await GetLogin(this.loginForm.username, this.loginForm.password);\r\n                        if(result.statusCode === 200){\r\n                            this.loading=false;\r\n                            console.log(result)\r\n                            this.initUserInfo(result.data);\r\n                            localStorage.setItem('agent', result.token);\r\n                            this.$router.push({ path: this.redirect || '/home'})\r\n                        }else{\r\n                            this.loading=false;\r\n                            this.$message({\r\n                                message: \"用户名或密码错误\",\r\n                                type: 'warning'\r\n                            })\r\n                        }\r\n\r\n\r\n\r\n                        // this.loading = true\r\n                        // this.$store.dispatch('LoginByUsername', this.loginForm).then(() => {\r\n                        //     this.loading = false\r\n                        //     this.$router.push({ path: '/home' })\r\n                        // }).catch(() => {\r\n                        //     this.loading = false\r\n                        // })\r\n                    } else {\r\n                        this.$message({\r\n                            message: \"请输入用户名和密码\",\r\n                            type: 'warning'\r\n                        })\r\n                        return false\r\n                    }\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    /* 修复input 背景不协调 和光标变色 */\r\n    /* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\r\n\r\n    @bg:#283443;\r\n    @light_gray:#eee;\r\n    @cursor: #fff;\r\n\r\n    .logo{\r\n        padding:20px;\r\n        color: #000;\r\n        background: #202020;\r\n    }\r\n    .bottom{\r\n        position: absolute;\r\n        bottom:40px;\r\n        width: 100%;\r\n        text-align: center;\r\n        font-size: 14px;\r\n        color: #fff;\r\n    }\r\n    .department{\r\n        color: #1e6abc;\r\n    }\r\n    .verify-box{\r\n        margin-top: -20px;\r\n    }\r\n    .register{\r\n        margin-left: 200px;\r\n    }\r\n    .register-input {\r\n        display: inline-block;\r\n        height: 47px;\r\n        width: 40%;\r\n    }\r\n    .register-input1 {\r\n        display: inline-block;\r\n        height: 47px;\r\n        width: 20%;\r\n    }\r\n\r\n    /* reset element-ui css */\r\n    .login-container {\r\n        .el-input {\r\n            input {\r\n                height: 40px;\r\n            }\r\n        }\r\n    }\r\n    @bg:#2d3a4b;\r\n    @dark_gray:#889aa4;\r\n    @light_gray:#eee;\r\n\r\n    .out-container {\r\n        background: linear-gradient(225deg, #7edcff, #158eef);\r\n        background:-moz-linear-gradient(225deg, #7edcff, #158eef);\r\n        background:-webkit-gradient(linear,100% 0%,0 100%,from(#7edcff),to(#158eef));\r\n        background:-webkit-linear-gradient(225deg, #7edcff, #158eef);\r\n        background:-o-linear-gradient(225deg, #7edcff, #158eef);\r\n        height: 100%;\r\n    }\r\n\r\n    .login-container {\r\n        height: 100%;\r\n        width: 1200px;\r\n        margin:0 auto;\r\n        overflow: hidden;\r\n        background: url(\"./../../assets/images/login-bg.png\") left center no-repeat;\r\n        background-size:1200px 550px;\r\n        .login-form {\r\n            position: absolute;\r\n            width: 300px;\r\n            padding: 40px 60px;\r\n            // margin: 18% 0 0 680px;\r\n            overflow: hidden;\r\n            background: #fff;\r\n            height: 290px;\r\n            top: 50%;\r\n            right: 0;\r\n            transform: translate(-50%, -50%);\r\n        }\r\n    }\r\n    .res-opreat{\r\n        text-align: right;\r\n        a{\r\n            color:#409EFF;\r\n            font-size:14px;\r\n            margin-left:30px;\r\n        }\r\n    }\r\n    .h3Style{\r\n        font-size:22px;\r\n        color:#333;\r\n        font-weight: normal;\r\n        margin-bottom: 22px;\r\n    }\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=3e507823&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=3e507823&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e507823\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}