{"version":3,"sources":["webpack:///./src/views/BaseTable/BaseTable.vue?b0b7","webpack:///./src/views/BaseTable/BaseTable.vue?857e","webpack:///src/views/BaseTable/BaseTable.vue","webpack:///./src/views/BaseTable/BaseTable.vue?6cb5","webpack:///./src/views/BaseTable/BaseTable.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","delAllSelection","model","value","query","callback","$$v","$set","expression","handleSearch","ref","tableData","padding","handleSelectionChange","HandleFilterChange","text","scopedSlots","_u","key","fn","scope","row","state","_s","$event","handleEdit","$index","handleDelete","currentPage","pageSize","total1","handleSizeChange1","handleCurrentChange1","editVisible","form","slot","saveEdit","staticRenderFns","console","log","contract_id","$confirm","component"],"mappings":"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","file":"js/table.6fcc77f2.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTable.vue?vue&type=style&index=0&id=ca4898a8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTable.vue?vue&type=style&index=0&id=ca4898a8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{staticClass:\"Breadcrumb\"},[_c('i',{staticClass:\"el-icon-lx-cascades\"}),_vm._v(\"合同管理 \")])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_c('el-button',{staticClass:\"handle-del mr10\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.delAllSelection}},[_vm._v(\"批量删除\")]),_c('el-input',{staticClass:\"handle-input mr10\",attrs:{\"placeholder\":\"合同编号\"},model:{value:(_vm.query.contract_id),callback:function ($$v) {_vm.$set(_vm.query, \"contract_id\", $$v)},expression:\"query.contract_id\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")])],1),_c('el-table',{ref:\"multipleTable\",staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"border\":\"\",\"cell-style\":{padding:'4px 0'},\"header-cell-class-name\":\"table-header\"},on:{\"selection-change\":_vm.handleSelectionChange,\"filter-change\":_vm.HandleFilterChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"55\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"channel_id\",\"label\":\"渠道编码\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"agent_name\",\"label\":\"代理商名称\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"agent_manager\",\"label\":\"渠道经理\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"contract_id\",\"label\":\"合同编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"contract_name\",\"label\":\"合同名称\"}}),_c('el-table-column',{attrs:{\"label\":\"合同状态\",\"align\":\"center\",\"filter-multiple\":false,\"column-key\":\"status\",\"prop\":\"state\",\"filters\":[{text: '生效', value: '生效'}, {text: '失效', value: '失效'}]},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.state==='生效'?'success':(scope.row.state==='失效'?'danger':'')}},[_vm._v(_vm._s(scope.row.state))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"contract_date\",\"label\":\"合同终止日期\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{staticClass:\"red\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10,20,50,100],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes,prev, pager, next,jumper\",\"total\":_vm.total1,\"background\":\"\"},on:{\"size-change\":_vm.handleSizeChange1,\"current-change\":_vm.handleCurrentChange1}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.editVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"渠道编码\"}},[_c('el-input',{model:{value:(_vm.form.channel_id),callback:function ($$v) {_vm.$set(_vm.form, \"channel_id\", $$v)},expression:\"form.channel_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"代理商名称\"}},[_c('el-input',{model:{value:(_vm.form.agent_name),callback:function ($$v) {_vm.$set(_vm.form, \"agent_name\", $$v)},expression:\"form.agent_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"渠道经理\"}},[_c('el-input',{model:{value:(_vm.form.agent_manager),callback:function ($$v) {_vm.$set(_vm.form, \"agent_manager\", $$v)},expression:\"form.agent_manager\"}})],1),_c('el-form-item',{attrs:{\"label\":\"合同编号\"}},[_c('el-input',{model:{value:(_vm.form.contract_id),callback:function ($$v) {_vm.$set(_vm.form, \"contract_id\", $$v)},expression:\"form.contract_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"合同名称\"}},[_c('el-input',{model:{value:(_vm.form.contract_name),callback:function ($$v) {_vm.$set(_vm.form, \"contract_name\", $$v)},expression:\"form.contract_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"合同状态\"}},[_c('el-input',{model:{value:(_vm.form.state),callback:function ($$v) {_vm.$set(_vm.form, \"state\", $$v)},expression:\"form.state\"}})],1),_c('el-form-item',{attrs:{\"label\":\"合同终止日期\"}},[_c('el-input',{model:{value:(_vm.form.contract_date),callback:function ($$v) {_vm.$set(_vm.form, \"contract_date\", $$v)},expression:\"form.contract_date\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveEdit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item class=\"Breadcrumb\">\r\n                    <i class=\"el-icon-lx-cascades\"></i>合同管理\r\n                </el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <div class=\"handle-box\">\r\n                <el-button\r\n                        type=\"primary\"\r\n                        icon=\"el-icon-delete\"\r\n                        class=\"handle-del mr10\"\r\n                        @click=\"delAllSelection\"\r\n                >批量删除</el-button>\r\n<!--                <el-select v-model=\"query.state\" placeholder=\"合同状态\" class=\"handle-select mr10\">-->\r\n<!--                    <el-option key=\"1\" label=\"生效\" value=\"生效\"></el-option>-->\r\n<!--                    <el-option key=\"2\" label=\"失效\" value=\"失效\"></el-option>-->\r\n<!--                </el-select>-->\r\n                <el-input v-model=\"query.contract_id\" placeholder=\"合同编号\" class=\"handle-input mr10\"></el-input>\r\n                <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">搜索</el-button>\r\n            </div>\r\n            <el-table\r\n                    :data=\"tableData\"\r\n                    border\r\n                    :cell-style=\"{padding:'4px 0'}\"\r\n                    class=\"table\"\r\n                    ref=\"multipleTable\"\r\n                    header-cell-class-name=\"table-header\"\r\n                    @selection-change=\"handleSelectionChange\"\r\n                    @filter-change=\"HandleFilterChange\"\r\n            >\r\n                <el-table-column type=\"selection\"  align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"id\" label=\"ID\" width=\"55\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"channel_id\"  label=\"渠道编码\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"agent_name\"  label=\"代理商名称\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"agent_manager\" label=\"渠道经理\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"contract_id\" label=\"合同编号\"></el-table-column>\r\n                <el-table-column prop=\"contract_name\" label=\"合同名称\"></el-table-column>\r\n                <el-table-column label=\"合同状态\" align=\"center\"\r\n                     :filter-multiple=\"false\"\r\n                     column-key=\"status\"\r\n                     prop=\"state\"\r\n                     :filters=\"[{text: '生效', value: '生效'}, {text: '失效', value: '失效'}]\"\r\n                >\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tag :type=\"scope.row.state==='生效'?'success':(scope.row.state==='失效'?'danger':'')\">{{scope.row.state}}</el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"contract_date\" label=\"合同终止日期\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"text\" icon=\"el-icon-edit\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n                        <el-button type=\"text\" icon=\"el-icon-delete\" class=\"red\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"pagination\">\r\n                <el-pagination\r\n                        @size-change=\"handleSizeChange1\"\r\n                        @current-change=\"handleCurrentChange1\"\r\n                        :current-page=\"currentPage\"\r\n                        :page-sizes=\"[10,20,50,100]\"\r\n                        :page-size=\"pageSize\"\r\n                        layout=\"total, sizes,prev, pager, next,jumper\"\r\n                        :total=\"total1\"\r\n                        background\r\n                ></el-pagination>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 编辑弹出框 -->\r\n        <el-dialog title=\"编辑\" :visible.sync=\"editVisible\" width=\"30%\">\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\r\n                <el-form-item label=\"渠道编码\">\r\n                    <el-input v-model=\"form.channel_id\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"代理商名称\">\r\n                    <el-input v-model=\"form.agent_name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"渠道经理\">\r\n                    <el-input v-model=\"form.agent_manager\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"合同编号\">\r\n                    <el-input v-model=\"form.contract_id\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"合同名称\">\r\n                    <el-input v-model=\"form.contract_name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"合同状态\">\r\n                    <el-input v-model=\"form.state\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"合同终止日期\">\r\n                    <el-input v-model=\"form.contract_date\"></el-input>\r\n                </el-form-item>\r\n\r\n\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import  {GetTableData,DeleteContract,EditContract,DeleteAllSelection,SearchContract} from './../../server/index'\r\n    export default {\r\n        name: 'basetable',\r\n        data() {\r\n            return {\r\n                total1: 0,\r\n                currentPage:1,\r\n                pageSize:10,\r\n                query: {\r\n                    state: '',\r\n                    contract_id: '',\r\n                },\r\n                tableData:[],\r\n                tableData1: [],\r\n                tableData2:[],\r\n                multipleSelection: [],\r\n                delList: [],\r\n                editVisible: false,\r\n                pageTotal: 0,\r\n                form: {},\r\n                idx: -1,\r\n                id: -1\r\n            };\r\n        },\r\n        created() {\r\n            this.GetData();\r\n            // this.$axios.post('/api/table/tableUpload',{data:1}).then(console.log(111)).catch(console.log(error))\r\n        },\r\n        methods: {\r\n            // 请求全部的合同数据\r\n            async GetData(){\r\n                let username = JSON.parse(localStorage.getItem('AgentUser')).username\r\n                let result = await GetTableData(username);\r\n                if(result.statusCode===200){\r\n                    this.tableData1 = result.data\r\n                    this.tableData2 = this.tableData1\r\n                    this.total1 = result.data.length;\r\n                    this.pushtableData();\r\n                    this.currentPage=1\r\n                }else if(result.statusCode===400){\r\n                    this.$router.push({ path: '/' })\r\n                }\r\n            },\r\n\r\n\r\n\r\n// ---------------------------------------------分页开始-------------------------------------------------------\r\n            handleSizeChange1: function(pageSize) { // 每页条数切换\r\n                this.pageSize = pageSize\r\n                this.handleCurrentChange1(this.currentPage);\r\n            },\r\n            handleCurrentChange1: function(currentPage) {//页码切换\r\n                this.currentPage = currentPage\r\n                this.currentChangePage(this.tableData1,currentPage)\r\n\r\n            },\r\n            //分页方法（重点）\r\n            currentChangePage(list,currentPage) {\r\n                let from = (currentPage - 1) * this.pageSize;\r\n                let to = currentPage * this.pageSize;\r\n                this.tableData = [];\r\n                for (; from < to; from++) {\r\n                    if (list[from]) {\r\n                        this.tableData.push(list[from]);\r\n                    }\r\n                }\r\n            },\r\n\r\n            // 给tabledata赋值\r\n            pushtableData() {\r\n                let from1 = 0;\r\n                let to1 = 10;\r\n                let list=[];\r\n                this.tableData = [];\r\n                for (; from1 < to1; from1++) {\r\n                    if (this.tableData1[from1]) {\r\n                        this.tableData.push(this.tableData1[from1]);\r\n                    }\r\n                }\r\n            },\r\n// ---------------------------------------------分页结束-------------------------------------------------------\r\n\r\n\r\n\r\n            // 触发搜索按钮\r\n            async handleSearch() {\r\n                console.log(this.query.contract_id);\r\n                if(this.query.contract_id){\r\n                    let result = await SearchContract(this.query.contract_id);\r\n                    if(result.statusCode === 200){\r\n                        this.$message.success(result.message);\r\n                        this.tableData1 = result.data\r\n                        this.tableData2 = this.tableData1\r\n                        this.total1 = result.data.length;\r\n                        this.pushtableData()\r\n                        this.currentPage=1\r\n                        console.log(result)\r\n                    }else {\r\n                        this.$message.error(result.message);\r\n                    }\r\n                }else {\r\n                    this.GetData();\r\n                }\r\n            },\r\n\r\n            // 多选操作\r\n            handleSelectionChange(val) {\r\n                this.multipleSelection = val;\r\n                console.log(val)\r\n            },\r\n\r\n            // 批量删除\r\n            async delAllSelection() {\r\n                this.$confirm('确定要批量删除这些合同嘛?','提示',{\r\n                   type:'warning'\r\n                }).then(async ()=>{\r\n                    const length = this.multipleSelection.length;\r\n                    let result = await DeleteAllSelection(this.multipleSelection);\r\n                    console.log(result)\r\n                    if(result.statusCode===200){\r\n                        this.$message.success(result.message)\r\n                        this.GetData();\r\n                    }else{\r\n                        this.$message.error(result.message)\r\n                    }\r\n                    this.multipleSelection = [];\r\n                }).catch(()=>{});\r\n\r\n                // const length = this.multipleSelection.length;\r\n                // let str = '';\r\n                // this.$message.error(`删除了${str}`);\r\n                // this.multipleSelection = [];\r\n            },\r\n\r\n            // 删除操作\r\n            handleDelete(index, row) {\r\n                console.log(row.contract_id)\r\n                // 二次确认删除\r\n                this.$confirm('确定要删除吗？', '提示', {\r\n                    type: 'warning'\r\n                }).then(async () => {\r\n                    let result = await DeleteContract(row.contract_id)\r\n                    if(result.statusCode === 200){\r\n                        this.$message.success(result.message);\r\n                        this.GetData();\r\n                    }else {\r\n                        this.$message.error(result.message);\r\n                    }\r\n                }).catch(() => {});\r\n            },\r\n\r\n            // 编辑操作\r\n            handleEdit(index, row) {\r\n                this.idx = index;\r\n                this.form = row;\r\n                this.editVisible = true;\r\n            },\r\n\r\n            // 保存编辑\r\n            saveEdit() {\r\n                // 二次确认保存编辑\r\n                this.$confirm('确定要修改吗？', '提示', {\r\n                    type: 'warning'\r\n                }).then(async () => {\r\n                    let result = await EditContract(this.form);\r\n                    if(result.statusCode === 200){\r\n                        this.$message.success(result.message);\r\n                        this.GetData();\r\n                        this.editVisible = false;\r\n                    }else {\r\n                        this.$message.error(result.message);\r\n                    }\r\n                }).catch(() => {});\r\n                // this.$message.success(`修改第 ${this.idx + 1} 行成功`);\r\n                // this.$set(this.tableData, this.idx, this.form);\r\n            },\r\n\r\n\r\n            HandleFilterChange(filters){//筛选条件改变触发此事件\r\n\r\n                // console.log(filters);\r\n                if(filters.status[0]){\r\n                    //当filters.status[0]存在时说明点击了筛选条件\r\n                    this.tableData2 = this.tableData2.filter((item)=>{\r\n                        // console.log(item)\r\n                        return item.state===filters.status[0]\r\n                    })\r\n                    // console.log(tabledata2);\r\n                    let tableData3 = this.tableData2;\r\n                    this.tableData2 = this.tableData1\r\n                    this.tableData1 = tableData3\r\n                    this.total1 = this.tableData1.length\r\n                    this.pushtableData()\r\n                    this.currentPage = 1//回到第一页\r\n                }else {\r\n                    //当点击重置或全部时会触发\r\n                    this.currentPage = 1\r\n                    this.GetData();\r\n                }\r\n\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n    .Breadcrumb{\r\n        font-size: 18px;\r\n    }\r\n    .handle-box {\r\n        margin-bottom: 20px;\r\n    }\r\n    .handle-select {\r\n        width: 120px;\r\n    }\r\n    .handle-input {\r\n        width: 300px;\r\n        display: inline-block;\r\n    }\r\n    .table {\r\n        width: 100%;\r\n        font-size: 14px;\r\n    }\r\n    .red {\r\n        color: #ff0000;\r\n    }\r\n    .mr10 {\r\n        margin-right: 10px;\r\n    }\r\n    .table-td-thumb {\r\n        display: block;\r\n        margin: auto;\r\n        width: 40px;\r\n        height: 40px;\r\n    }\r\n\r\n    .el-table td{\r\n        padding:0!important;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseTable.vue?vue&type=template&id=ca4898a8&scoped=true&\"\nimport script from \"./BaseTable.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseTable.vue?vue&type=style&index=0&id=ca4898a8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ca4898a8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}